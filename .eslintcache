[{"D:\\Web_Dev\\React_todo\\todo\\src\\index.js":"1","D:\\Web_Dev\\React_todo\\todo\\src\\reportWebVitals.js":"2","D:\\Web_Dev\\React_todo\\todo\\src\\App.js":"3","D:\\Web_Dev\\React_todo\\todo\\src\\js\\home.js":"4"},{"size":500,"mtime":499162500000,"results":"5","hashOfConfig":"6"},{"size":362,"mtime":499162500000,"results":"7","hashOfConfig":"6"},{"size":207,"mtime":1608210394768,"results":"8","hashOfConfig":"6"},{"size":4084,"mtime":1608209922291,"results":"9","hashOfConfig":"6"},{"filePath":"10","messages":"11","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"12"},"1rqz5id",{"filePath":"13","messages":"14","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"12"},{"filePath":"15","messages":"16","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"12"},{"filePath":"17","messages":"18","errorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"19"},"D:\\Web_Dev\\React_todo\\todo\\src\\index.js",[],["20","21"],"D:\\Web_Dev\\React_todo\\todo\\src\\reportWebVitals.js",[],"D:\\Web_Dev\\React_todo\\todo\\src\\App.js",[],"D:\\Web_Dev\\React_todo\\todo\\src\\js\\home.js",["22","23","24","25","26","27","28","29","30"],"import React, { Component } from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nclass TodoHome extends React.Component {\r\n\r\n    state = {\r\n        arr: [],\r\n        redoArr:[],\r\n        globalidx:0,\r\n        changed : 0,\r\n        savedval:{idx:0,val:0}\r\n    };\r\n// 1 2 3 4 5 6 - 3 4 \r\n// [{val:val, id:idx4},{val:val, id:id3}]\r\nadd = ()=>{\r\n    console.log(\"adding btn fxn \")\r\n    this.setState({globalidx:this.state.globalidx+1})\r\n    if(this.state.globalidx===0)\r\n    this.setState({arr : [...this.state.arr,{idx:0,val:1}]})\r\n    else\r\n    {\r\n        let obj = {idx:this.state.globalidx, val:this.state.globalidx+1};\r\n        this.setState({arr : [...this.state.arr,obj]});\r\n    }\r\n}\r\n\r\nundo=async()=>{\r\n    console.log(\"undoing btn fxn \")\r\n    const leftList = this.state.arr.length;\r\n\r\n    // if(this.state.changed===true){\r\n        \r\n    // }\r\n\r\n    // else \r\n\r\n    if(this.state.redoArr.length>0 && this.state.changed>0 )\r\n    { \r\n        \r\n        this.setState({changed: this.state.changed-1});\r\n        // let updatearr = {...this.state.arr, ...this.state.redoArr[this.state.redoArr.length-1]}\r\n        // this.setState({updatearr})\r\n\r\n          await this.setState({arr:[...this.state.arr,this.state.redoArr[this.state.redoArr.length-1]]})\r\n        \r\n      \r\n\r\n       //this.state.arr.splice(this.state.savedval.idx,0,this.state.savedval)\r\n         this.setState({arr : [...this.state.arr]},()=>{\r\n            this.state.arr.sort((a,b)=>{\r\n                return a.idx-b.idx;\r\n            })\r\n        })\r\n        this.setState({redoArr:[...this.state.redoArr.filter(ar=>ar.idx!=this.state.redoArr[this.state.redoArr.length-1].idx)]})\r\n\r\n\r\n    }\r\n    else if(leftList>0)\r\n    {\r\n        this.setState(({redoArr:[...this.state.redoArr, this.state.arr[this.state.arr.length-1]]}))\r\n\r\n        this.setState({arr:this.state.arr.filter(ar=>ar.idx!=this.state.arr[this.state.arr.length-1].idx)})\r\n \r\n        console.log(\"redoArr\",this.state.redoArr)\r\n\r\n       console.log(\"inside if undo\")\r\n    }\r\n    \r\n}\r\n\r\nredo=async()=>{\r\n    if(this.state.redoArr.length<=0)\r\n    return;\r\n\r\n    await this.setState({arr:[...this.state.arr,this.state.redoArr[this.state.redoArr.length-1]]})\r\n    this.setState({arr : [...this.state.arr]},()=>{\r\n            this.state.arr.sort((a,b)=>{\r\n                return a.idx-b.idx;\r\n            })\r\n        })\r\n    this.setState({redoArr:[...this.state.redoArr.filter(ar=>ar.idx!=this.state.redoArr[this.state.redoArr.length-1].idx)]})\r\n}\r\n\r\n\r\nremove=async (arhandle)=>{\r\n\r\n    const index = this.state.arr.findIndex(ar => ar.val === arhandle.val);\r\n    \r\n    if(index!=-1)\r\n    {  console.log(\"inside remove fxn\",arhandle)\r\n    let savedobj = this.state.arr[index]\r\n    //the saveobj has structure of {idx:1 , val:1}\r\n    //-------------------------Option 1------------------------------\r\n    // this.state.savedval.idx=savedobj.idx;\r\n    // this.state.savedval.val=savedobj.val;\r\n    //--------------------------Option 2---------------------\r\n   await this.setState({savedval : {...this.state.savedval,...this.state.arr[index]}},\r\n    ()=>console.log(\"here callback \",this.state.savedval)\r\n    ) \r\n\r\n        this.setState({arr:this.state.arr.filter(ar=>ar.val!=arhandle.val)})\r\n        this.setState({redoArr:[...this.state.redoArr,this.state.savedval]})\r\n        this.setState({changed: this.state.changed+1});\r\n        console.log(this.state.savedval)\r\n        \r\n    }\r\n\r\n}\r\n\r\n    render() {\r\n        let renderarr = this.state.arr;\r\n        return (\r\n           \r\n            <div>\r\n            <button onClick={this.add}>Add</button>\r\n            <button onClick={this.undo}>Undo</button>\r\n            <button onClick={this.redo}>Redo</button>\r\n            \r\n            <div className=\"list\">\r\n            {this.state.arr.map((ar) =>\r\n                (\r\n                    <li id={ar.idx}>{ar.val}\r\n                    <button onClick={()=>this.remove(ar)}>Remove</button>\r\n                    </li>\r\n                )\r\n                )}\r\n            </div>\r\n               \r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default TodoHome;",{"ruleId":"31","replacedBy":"32"},{"ruleId":"33","replacedBy":"34"},{"ruleId":"35","severity":1,"message":"36","line":1,"column":17,"nodeType":"37","messageId":"38","endLine":1,"endColumn":26},{"ruleId":"35","severity":1,"message":"39","line":2,"column":8,"nodeType":"37","messageId":"38","endLine":2,"endColumn":16},{"ruleId":"40","severity":1,"message":"41","line":54,"column":72,"nodeType":"42","messageId":"43","endLine":54,"endColumn":74},{"ruleId":"40","severity":1,"message":"41","line":62,"column":60,"nodeType":"42","messageId":"43","endLine":62,"endColumn":62},{"ruleId":"40","severity":1,"message":"41","line":81,"column":68,"nodeType":"42","messageId":"43","endLine":81,"endColumn":70},{"ruleId":"40","severity":1,"message":"41","line":89,"column":13,"nodeType":"42","messageId":"43","endLine":89,"endColumn":15},{"ruleId":"35","severity":1,"message":"44","line":91,"column":9,"nodeType":"37","messageId":"38","endLine":91,"endColumn":17},{"ruleId":"40","severity":1,"message":"41","line":101,"column":60,"nodeType":"42","messageId":"43","endLine":101,"endColumn":62},{"ruleId":"35","severity":1,"message":"45","line":111,"column":13,"nodeType":"37","messageId":"38","endLine":111,"endColumn":22},"no-native-reassign",["46"],"no-negated-in-lhs",["47"],"no-unused-vars","'Component' is defined but never used.","Identifier","unusedVar","'ReactDOM' is defined but never used.","eqeqeq","Expected '!==' and instead saw '!='.","BinaryExpression","unexpected","'savedobj' is assigned a value but never used.","'renderarr' is assigned a value but never used.","no-global-assign","no-unsafe-negation"]